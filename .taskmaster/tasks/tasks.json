{
  "master": {
    "tasks": [
      {
        "id": "1",
        "title": "Monorepo 및 기반 인프라 설정",
        "description": "Turborepo를 사용한 모노레포 구조 설정 및 개발 환경 구축",
        "details": "1. Turborepo 초기화: `npx create-turbo@latest qr-smart-order`\n2. 패키지 구조 설정:\n   - apps/web (Next.js 14)\n   - apps/api (Nest.js)\n   - packages/shared-types (Zod 스키마)\n   - packages/ui (shadcn/ui)\n   - packages/tsconfig\n3. 루트 package.json에 워크스페이스 설정\n4. turbo.json 파이프라인 구성 (dev, build, lint, test)\n5. ESLint, Prettier 설정\n6. TypeScript 설정 공유\n7. Git 초기화 및 .gitignore 설정",
        "testStrategy": "turbo dev 실행 시 모든 앱이 정상 실행되는지 확인, 패키지 간 타입 공유가 정상 작동하는지 검증",
        "priority": "high",
        "dependencies": [],
        "status": "in-progress",
        "subtasks": [
          {
            "id": 1,
            "title": "Turborepo 초기화 및 기본 패키지 구조 설정",
            "description": "Turborepo 프로젝트 생성 및 apps, packages 디렉토리 구조 설정",
            "dependencies": [],
            "details": "1. `npx create-turbo@latest qr-smart-order` 실행\n2. apps 디렉토리에 web, api 폴더 생성\n3. packages 디렉토리에 shared-types, ui, tsconfig 폴더 생성\n4. 각 패키지별 기본 package.json 파일 생성\n5. 루트 package.json에 워크스페이스 설정 추가",
            "status": "done",
            "testStrategy": "",
            "updatedAt": "2026-01-08T13:07:59.959Z",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Next.js 및 Nest.js 애플리케이션 설정",
            "description": "웹 프론트엔드와 API 백엔드 애플리케이션 초기 설정",
            "dependencies": [
              "1.1"
            ],
            "details": "1. apps/web에 Next.js 14 프로젝트 설정\n2. apps/api에 Nest.js 프로젝트 설정\n3. 각 앱의 package.json 의존성 설정\n4. 기본 라우팅 및 컨트롤러 구조 생성\n5. 앱 간 포트 설정 (web: 3000, api: 3001)",
            "status": "done",
            "testStrategy": "",
            "parentId": "undefined",
            "updatedAt": "2026-01-08T14:04:26.102Z"
          },
          {
            "id": 3,
            "title": "공유 패키지 및 개발 도구 설정",
            "description": "TypeScript 설정, UI 컴포넌트, 린팅 도구 등 공유 패키지 구성",
            "dependencies": [
              "1.1"
            ],
            "details": "1. packages/tsconfig에 공통 TypeScript 설정 파일 생성\n2. packages/ui에 shadcn/ui 컴포넌트 라이브러리 설정\n3. packages/shared-types에 기본 타입 정의 파일 생성\n4. ESLint, Prettier 설정 파일 생성 및 공유\n5. 각 패키지 간 의존성 연결 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Turbo 파이프라인 구성 및 Git 설정",
            "description": "빌드 파이프라인 설정 및 버전 관리 시스템 초기화",
            "dependencies": [
              "1.2",
              "1.3"
            ],
            "details": "1. turbo.json 파일에 dev, build, lint, test 파이프라인 구성\n2. 각 패키지별 스크립트 명령어 정의\n3. Git 저장소 초기화 및 .gitignore 설정\n4. 루트 레벨 npm scripts 설정 (turbo dev, turbo build 등)\n5. 전체 모노레포 구조 검증 및 테스트 실행",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 6,
        "recommendedSubtasks": 4,
        "expansionPrompt": "Turborepo 모노레포 설정을 위한 세부 작업들을 단계별로 분리하여 각각의 패키지 설정, 개발 도구 구성, 워크스페이스 연결을 독립적으로 수행할 수 있도록 세분화해주세요.",
        "updatedAt": "2026-01-08T14:04:26.102Z"
      },
      {
        "id": "2",
        "title": "데이터베이스 스키마 설계 및 Supabase 설정",
        "description": "PostgreSQL 데이터베이스 스키마 정의 및 Supabase 프로젝트 설정",
        "details": "1. Supabase 프로젝트 생성\n2. Prisma 설치 및 설정:\n   ```prisma\n   model Menu {\n     id String @id @default(uuid())\n     name String\n     price Int\n     imageUrl String?\n     isSoldOut Boolean @default(false)\n     createdAt DateTime @default(now())\n   }\n   \n   model Order {\n     id String @id @default(uuid())\n     orderNo Int @default(autoincrement())\n     status OrderStatus @default(PENDING)\n     items Json\n     totalPrice Int\n     createdAt DateTime @default(now())\n     updatedAt DateTime @updatedAt\n   }\n   \n   enum OrderStatus {\n     PENDING\n     COOKING\n     READY\n     COMPLETED\n   }\n   ```\n3. 마이그레이션 실행\n4. 시드 데이터 생성 (샘플 메뉴)\n5. 환경변수 설정 (.env)",
        "testStrategy": "Prisma Studio로 테이블 생성 확인, 시드 데이터 정상 삽입 검증, 기본 CRUD 쿼리 테스트",
        "priority": "high",
        "dependencies": [
          "1"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Supabase 프로젝트 생성 및 초기 설정",
            "description": "Supabase 계정 생성, 새 프로젝트 생성, 데이터베이스 연결 정보 확인 및 환경변수 설정",
            "dependencies": [],
            "details": "1. Supabase 계정 생성 (https://supabase.com)\n2. 새 프로젝트 생성 (프로젝트명: qr-smart-order)\n3. 데이터베이스 URL 및 API 키 확인\n4. .env 파일에 환경변수 설정:\n   - DATABASE_URL\n   - SUPABASE_URL\n   - SUPABASE_ANON_KEY\n   - SUPABASE_SERVICE_ROLE_KEY\n5. 데이터베이스 연결 테스트",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Prisma 스키마 정의 및 마이그레이션 실행",
            "description": "Prisma 설치, 스키마 파일 작성, 데이터베이스 마이그레이션 실행 및 테이블 생성 확인",
            "dependencies": [
              "2.1"
            ],
            "details": "1. Prisma 패키지 설치: `npm install prisma @prisma/client`\n2. Prisma 초기화: `npx prisma init`\n3. schema.prisma 파일에 Menu, Order 모델 정의:\n   - Menu 모델 (id, name, price, imageUrl, isSoldOut, createdAt)\n   - Order 모델 (id, orderNo, status, items, totalPrice, createdAt, updatedAt)\n   - OrderStatus enum (PENDING, COOKING, READY, COMPLETED)\n4. 마이그레이션 생성: `npx prisma migrate dev --name init`\n5. Prisma Client 생성: `npx prisma generate`\n6. Prisma Studio로 테이블 생성 확인: `npx prisma studio`",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "시드 데이터 생성 및 기본 CRUD 테스트",
            "description": "샘플 메뉴 데이터 시드 스크립트 작성, 실행 및 기본 데이터베이스 작업 검증",
            "dependencies": [
              "2.2"
            ],
            "details": "1. prisma/seed.ts 파일 생성\n2. 샘플 메뉴 데이터 정의:\n   - 김치찌개 (8000원)\n   - 된장찌개 (7000원)\n   - 불고기정식 (12000원)\n   - 비빔밥 (9000원)\n   - 냉면 (8500원)\n3. package.json에 시드 스크립트 설정\n4. 시드 데이터 실행: `npx prisma db seed`\n5. 기본 CRUD 쿼리 테스트:\n   - 메뉴 조회 (findMany)\n   - 주문 생성 (create)\n   - 주문 상태 업데이트 (update)\n   - 데이터 삭제 (delete)\n6. Prisma Studio에서 시드 데이터 확인",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 5,
        "recommendedSubtasks": 3,
        "expansionPrompt": "데이터베이스 설정을 Supabase 프로젝트 생성, Prisma 스키마 정의 및 마이그레이션, 시드 데이터 생성으로 나누어 각각을 독립적으로 검증할 수 있도록 세분화해주세요."
      },
      {
        "id": "3",
        "title": "공유 타입 정의 및 Zod 스키마 구현",
        "description": "프론트엔드와 백엔드에서 공유할 타입 정의 및 검증 스키마 작성",
        "details": "packages/shared-types에 다음 스키마 정의:\n1. MenuSchema:\n   ```typescript\n   export const MenuSchema = z.object({\n     id: z.string().uuid(),\n     name: z.string().min(1),\n     price: z.number().positive(),\n     imageUrl: z.string().url().optional(),\n     isSoldOut: z.boolean().default(false)\n   });\n   ```\n2. OrderSchema:\n   ```typescript\n   export const OrderItemSchema = z.object({\n     menuId: z.string().uuid(),\n     name: z.string(),\n     price: z.number().positive(),\n     count: z.number().positive()\n   });\n   \n   export const OrderSchema = z.object({\n     id: z.string().uuid(),\n     orderNo: z.number().positive(),\n     status: z.enum(['PENDING', 'COOKING', 'READY', 'COMPLETED']),\n     items: z.array(OrderItemSchema),\n     totalPrice: z.number().positive()\n   });\n   ```\n3. API 요청/응답 스키마\n4. WebSocket 이벤트 스키마\n5. 타입 추론 및 export",
        "testStrategy": "각 스키마의 유효성 검증 테스트 작성, 잘못된 데이터 입력 시 에러 발생 확인",
        "priority": "high",
        "dependencies": [
          "1"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "기본 엔티티 스키마 정의 및 타입 추론",
            "description": "Menu, Order 등 핵심 엔티티의 Zod 스키마를 정의하고 TypeScript 타입을 추론하여 export",
            "dependencies": [],
            "details": "packages/shared-types/src/entities 폴더에 MenuSchema, OrderSchema, OrderItemSchema 정의. 각 스키마에서 z.infer를 사용하여 Menu, Order, OrderItem 타입 추론 및 export. 기본 검증 규칙(uuid, positive number, enum 등) 포함",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "API 요청/응답 스키마 구현",
            "description": "REST API 엔드포인트별 요청/응답 데이터 검증을 위한 Zod 스키마 정의",
            "dependencies": [
              "3.1"
            ],
            "details": "packages/shared-types/src/api 폴더에 CreateOrderRequestSchema, GetMenusResponseSchema, UpdateOrderStatusRequestSchema 등 API별 스키마 정의. 성공/에러 응답 스키마 포함. 각 스키마에서 타입 추론하여 export",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "WebSocket 이벤트 스키마 및 통합 export",
            "description": "실시간 통신을 위한 WebSocket 이벤트 스키마 정의 및 전체 타입 통합 export",
            "dependencies": [
              "3.1",
              "3.2"
            ],
            "details": "packages/shared-types/src/websocket 폴더에 NewOrderEventSchema, OrderReadyEventSchema, JoinRoomEventSchema 등 WebSocket 이벤트 스키마 정의. packages/shared-types/src/index.ts에서 모든 스키마와 타입을 통합하여 export. 패키지 빌드 설정 및 타입 선언 파일 생성",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 4,
        "recommendedSubtasks": 3,
        "expansionPrompt": "공유 타입을 기본 엔티티 스키마(Menu, Order), API 요청/응답 스키마, WebSocket 이벤트 스키마로 분리하여 각각의 검증 로직과 타입 추론을 독립적으로 구현할 수 있도록 세분화해주세요."
      },
      {
        "id": "4",
        "title": "Nest.js 백엔드 API 구현",
        "description": "메뉴 조회, 주문 생성, 주문 상태 관리를 위한 REST API 구현",
        "details": "1. Nest.js 프로젝트 초기화 및 Prisma 연동\n2. 메뉴 컨트롤러 구현:\n   - GET /api/menus (품절 메뉴 필터링)\n3. 주문 컨트롤러 구현:\n   - POST /api/orders (주문 생성, 스냅샷 저장)\n   - GET /api/orders?status=PENDING (주방용 주문 목록)\n   - PATCH /api/orders/:id/status (상태 변경)\n4. 주문 번호 자동 발급 로직 (일일 시퀀스)\n5. 단방향 상태 전환 검증 로직\n6. Zod 검증 파이프 적용\n7. 에러 핸들링 및 응답 포맷 통일\n8. CORS 설정",
        "testStrategy": "각 API 엔드포인트별 단위 테스트 작성, Postman으로 통합 테스트, 잘못된 요청에 대한 에러 응답 검증",
        "priority": "high",
        "dependencies": [
          "2",
          "3"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Nest.js 프로젝트 초기화 및 Prisma 연동",
            "description": "Nest.js 프로젝트 생성, 기본 설정, Prisma 클라이언트 연동 및 CORS 설정",
            "dependencies": [],
            "details": "1. Nest.js CLI로 프로젝트 생성\n2. Prisma 클라이언트 설치 및 설정\n3. 환경변수 설정 (.env)\n4. CORS 미들웨어 설정\n5. 기본 모듈 구조 설정 (AppModule, DatabaseModule)\n6. Prisma 서비스 생성 및 의존성 주입 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "메뉴 관리 API 구현",
            "description": "메뉴 조회 API 엔드포인트 구현 및 품절 메뉴 필터링 로직",
            "dependencies": [
              "4.1"
            ],
            "details": "1. MenuController 생성\n2. MenuService 구현\n3. GET /api/menus 엔드포인트 구현\n4. 품절 메뉴 필터링 쿼리 로직\n5. 메뉴 응답 DTO 정의\n6. Zod 스키마 검증 적용\n7. 단위 테스트 작성",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "주문 생성 API 구현",
            "description": "주문 생성 엔드포인트 및 주문 번호 자동 발급 로직 구현",
            "dependencies": [
              "4.1"
            ],
            "details": "1. OrderController 생성\n2. POST /api/orders 엔드포인트 구현\n3. 주문 번호 일일 시퀀스 로직 구현\n4. 주문 스냅샷 저장 로직\n5. 주문 생성 DTO 및 응답 DTO 정의\n6. Zod 검증 파이프 적용\n7. 주문 생성 트랜잭션 처리",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "주문 상태 관리 API 구현",
            "description": "주문 조회 및 상태 변경 API 구현, 단방향 상태 전환 검증 로직",
            "dependencies": [
              "4.3"
            ],
            "details": "1. GET /api/orders 엔드포인트 구현 (상태별 필터링)\n2. PATCH /api/orders/:id/status 엔드포인트 구현\n3. 단방향 상태 전환 검증 로직 (PENDING → PREPARING → READY → COMPLETED)\n4. 주문 상태 변경 DTO 정의\n5. 상태 변경 이력 로깅\n6. 잘못된 상태 전환 시 에러 처리",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "에러 핸들링 및 검증 파이프 통합",
            "description": "전역 에러 핸들러, Zod 검증 파이프, 응답 포맷 통일 구현",
            "dependencies": [
              "4.2",
              "4.3",
              "4.4"
            ],
            "details": "1. 전역 예외 필터 구현 (GlobalExceptionFilter)\n2. Zod 검증 파이프 전역 적용\n3. 표준 응답 포맷 인터셉터 구현\n4. HTTP 상태 코드별 에러 응답 정의\n5. 로깅 미들웨어 설정\n6. API 문서화 (Swagger) 설정\n7. 통합 테스트 작성",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 7,
        "recommendedSubtasks": 5,
        "expansionPrompt": "백엔드 API를 Nest.js 프로젝트 초기화, 메뉴 관리 API, 주문 생성 API, 주문 상태 관리 API, 에러 핸들링 및 검증 파이프로 분리하여 각 API 엔드포인트를 독립적으로 개발하고 테스트할 수 있도록 세분화해주세요."
      },
      {
        "id": "5",
        "title": "WebSocket 실시간 통신 구현",
        "description": "Socket.io를 사용한 실시간 주문 알림 시스템 구현",
        "details": "1. Socket.io 설치 및 Nest.js Gateway 설정\n2. 룸 관리 로직:\n   - kitchen: 전체 주방용\n   - order_${orderId}: 개별 고객용\n3. 이벤트 정의:\n   - new_order: 신규 주문 시 주방에 알림\n   - order_ready: 조리 완료 시 고객에게 알림\n4. 연결 관리:\n   - 클라이언트 연결/해제 처리\n   - 룸 조인/리브 로직\n5. 하트비트 구현 (30초 간격)\n6. 에러 핸들링 및 재연결 로직\n7. CORS 설정",
        "testStrategy": "Socket.io 클라이언트로 연결 테스트, 이벤트 송수신 검증, 룸 격리 테스트, 연결 끊김 시나리오 테스트",
        "priority": "medium",
        "dependencies": [
          "4"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Socket.io Gateway 설정 및 기본 구성",
            "description": "Nest.js에서 Socket.io Gateway를 설정하고 기본 WebSocket 서버 구성",
            "dependencies": [],
            "details": "1. Socket.io 및 @nestjs/websockets 패키지 설치\n2. WebSocketGateway 데코레이터로 게이트웨이 클래스 생성\n3. CORS 설정 및 포트 구성\n4. 기본 연결/해제 이벤트 핸들러 구현\n5. Gateway를 AppModule에 등록\n6. 개발 환경에서 WebSocket 서버 실행 확인",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "룸 관리 시스템 및 이벤트 정의",
            "description": "주방용 전체 룸과 개별 고객용 룸 관리 로직 구현 및 주문 관련 이벤트 정의",
            "dependencies": [
              "5.1"
            ],
            "details": "1. 룸 관리 서비스 클래스 생성\n2. kitchen 룸: 모든 주방 직원이 참여하는 전체 룸\n3. order_${orderId} 룸: 개별 주문별 고객 전용 룸\n4. new_order 이벤트: 신규 주문 시 주방 룸에 브로드캐스트\n5. order_ready 이벤트: 조리 완료 시 해당 주문 룸에 전송\n6. 룸 조인/리브 로직 구현\n7. 이벤트 페이로드 타입 정의",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "연결 관리 및 하트비트 구현",
            "description": "클라이언트 연결 상태 관리 및 30초 간격 하트비트 메커니즘 구현",
            "dependencies": [
              "5.2"
            ],
            "details": "1. 클라이언트 연결 맵 관리 (socketId -> clientInfo)\n2. handleConnection/handleDisconnect 이벤트 핸들러\n3. 30초 간격 ping/pong 하트비트 구현\n4. 클라이언트 타임아웃 감지 및 정리\n5. 연결된 클라이언트 수 모니터링\n6. 룸별 활성 연결 추적\n7. 메모리 누수 방지를 위한 연결 정리 로직",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "에러 핸들링 및 재연결 로직",
            "description": "네트워크 오류 처리, 자동 재연결 메커니즘 및 예외 상황 대응 로직 구현",
            "dependencies": [
              "5.3"
            ],
            "details": "1. WebSocket 연결 오류 핸들링\n2. 클라이언트 측 재연결 로직 가이드라인 제공\n3. 서버 측 연결 복구 메커니즘\n4. 메시지 전송 실패 시 재시도 로직\n5. 룸 상태 불일치 복구 로직\n6. 로깅 및 모니터링 구현\n7. 에러 이벤트 정의 및 클라이언트 알림\n8. 연결 품질 모니터링 메트릭",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 8,
        "recommendedSubtasks": 4,
        "expansionPrompt": "WebSocket 구현을 Socket.io Gateway 설정, 룸 관리 및 이벤트 정의, 연결 관리 및 하트비트, 에러 핸들링 및 재연결 로직으로 분리하여 실시간 통신의 각 측면을 독립적으로 구현하고 테스트할 수 있도록 세분화해주세요."
      },
      {
        "id": "6",
        "title": "고객용 주문 화면 구현",
        "description": "QR 스캔 후 메뉴 선택 및 주문 완료까지의 고객 화면 구현",
        "details": "1. Next.js 14 App Router 설정\n2. shadcn/ui 및 Tailwind CSS 설정\n3. /order 페이지 구현:\n   - QR 파라미터 파싱 (?storeId=1&tableId=5)\n   - 메뉴 리스트 UI (Card 컴포넌트)\n   - 수량 조절 버튼 (+/- 44x44px 이상)\n   - 장바구니 Drawer (하단 고정)\n4. Zustand 상태 관리:\n   ```typescript\n   interface CartStore {\n     items: CartItem[];\n     addItem: (menu: Menu, count: number) => void;\n     removeItem: (menuId: string) => void;\n     updateCount: (menuId: string, count: number) => void;\n     getTotalPrice: () => number;\n     clear: () => void;\n   }\n   ```\n5. LocalStorage 동기화\n6. 주문 완료 화면 (주문번호 표시)\n7. 모바일 최적화 (반응형 디자인)\n8. 로딩 상태 및 에러 처리",
        "testStrategy": "모바일 브라우저에서 QR 스캔부터 주문 완료까지 E2E 테스트, 장바구니 상태 관리 테스트, LocalStorage 동기화 검증",
        "priority": "high",
        "dependencies": [
          "4"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Next.js 프로젝트 설정 및 UI 라이브러리 구성",
            "description": "Next.js 14 App Router 설정, shadcn/ui 및 Tailwind CSS 설치 및 구성",
            "dependencies": [],
            "details": "1. Next.js 14 App Router 프로젝트 초기화\n2. shadcn/ui 설치 및 기본 컴포넌트 설정\n3. Tailwind CSS 설정 및 커스텀 테마 구성\n4. 기본 레이아웃 컴포넌트 생성\n5. 폰트 및 글로벌 스타일 설정\n6. 모바일 뷰포트 메타 태그 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "메뉴 리스트 및 상품 카드 UI 구현",
            "description": "메뉴 목록 표시, 상품 카드 컴포넌트, 수량 조절 버튼 구현",
            "dependencies": [
              "6.1"
            ],
            "details": "1. /order 페이지 라우트 생성\n2. QR 파라미터 파싱 로직 구현 (?storeId=1&tableId=5)\n3. 메뉴 카드 컴포넌트 (이미지, 이름, 가격, 품절 상태)\n4. 수량 조절 버튼 (+/- 44x44px 이상)\n5. 메뉴 리스트 그리드 레이아웃\n6. 로딩 스켈레톤 UI\n7. 품절 상품 처리 UI",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "장바구니 상태 관리 및 Zustand 스토어 구현",
            "description": "Zustand를 사용한 장바구니 상태 관리 및 LocalStorage 동기화",
            "dependencies": [
              "6.1"
            ],
            "details": "1. Zustand 설치 및 CartStore 인터페이스 구현\n2. 장바구니 아이템 추가/제거/수량 변경 로직\n3. 총 가격 계산 함수\n4. LocalStorage 동기화 미들웨어\n5. 장바구니 하단 고정 Drawer 컴포넌트\n6. 장바구니 아이템 리스트 UI\n7. 장바구니 비우기 기능",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "주문 프로세스 및 완료 화면 구현",
            "description": "주문 제출 로직, 주문 완료 화면, 주문번호 표시 기능 구현",
            "dependencies": [
              "6.2",
              "6.3"
            ],
            "details": "1. 주문 제출 API 연동\n2. 주문 데이터 검증 및 전송\n3. 주문 완료 페이지 (/order/complete)\n4. 주문번호 생성 및 표시\n5. 주문 내역 요약 표시\n6. 새 주문하기 버튼\n7. 주문 처리 중 로딩 상태\n8. 주문 실패 시 에러 처리",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "모바일 최적화 및 반응형 디자인 구현",
            "description": "모바일 환경 최적화, 반응형 디자인, 터치 인터페이스 개선",
            "dependencies": [
              "6.2",
              "6.3",
              "6.4"
            ],
            "details": "1. 모바일 퍼스트 반응형 디자인 적용\n2. 터치 친화적 버튼 크기 및 간격 조정\n3. 스와이프 제스처 지원 (장바구니 Drawer)\n4. 모바일 브라우저 호환성 테스트\n5. iOS Safari, Chrome, Samsung Internet 최적화\n6. 가로/세로 모드 대응\n7. 키보드 표시 시 레이아웃 조정\n8. PWA 기본 설정 (manifest.json)",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 7,
        "recommendedSubtasks": 5,
        "expansionPrompt": "고객 화면을 Next.js 프로젝트 설정 및 UI 라이브러리 구성, 메뉴 리스트 및 상품 카드 UI, 장바구니 상태 관리 및 Zustand 스토어, 주문 프로세스 및 완료 화면, 모바일 최적화 및 반응형 디자인으로 분리하여 각 화면과 기능을 독립적으로 개발할 수 있도록 세분화해주세요."
      },
      {
        "id": "7",
        "title": "주방용 주문 관리 화면 구현",
        "description": "태블릿에서 사용할 주문 현황판 및 상태 관리 화면 구현",
        "details": "1. /kitchen 페이지 구현 (가로 모드 최적화)\n2. 주문 카드 그리드 레이아웃 (3-4열)\n3. 주문 카드 컴포넌트:\n   - 주문번호, 메뉴 리스트, 수량, 경과시간\n   - '호출' 버튼 (60x60px 이상)\n   - '수령 확인' 버튼\n4. 실시간 주문 목록 조회 및 정렬:\n   - createdAt 기준 오름차순 (오래된 주문 우선)\n   - 색상 코딩 (오래된 주문: 빨강, 최근 주문: 초록)\n5. 상태 변경 API 호출:\n   - PENDING → READY\n   - READY → COMPLETED\n6. 에러 처리 및 롤백 로직\n7. 태블릿 터치 최적화",
        "testStrategy": "태블릿 환경에서 터치 조작 테스트, 주문 카드 표시 및 상태 변경 검증, 정렬 로직 테스트",
        "priority": "high",
        "dependencies": [
          "4"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "태블릿 최적화 레이아웃 구성",
            "description": "/kitchen 페이지의 태블릿 가로 모드 최적화 레이아웃 및 기본 구조 구현",
            "dependencies": [],
            "details": "1. /kitchen 페이지 생성 및 가로 모드 최적화\n2. 태블릿 해상도 대응 반응형 디자인 (1024x768 기준)\n3. 터치 친화적 UI 요소 크기 설정 (최소 44px)\n4. 헤더 영역 (매장명, 현재 시간, 주문 현황 요약)\n5. 메인 컨텐츠 영역 그리드 컨테이너 설정\n6. CSS Grid 3-4열 레이아웃 구성\n7. 태블릿 터치 스크롤 최적화",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "주문 카드 컴포넌트 및 그리드 시스템",
            "description": "주문 정보를 표시하는 카드 컴포넌트와 그리드 레이아웃 시스템 구현",
            "dependencies": [
              "7.1"
            ],
            "details": "1. OrderCard 컴포넌트 생성\n2. 카드 내부 레이아웃 구성:\n   - 주문번호 (상단, 큰 폰트)\n   - 메뉴 리스트 및 수량 표시\n   - 경과시간 표시 (실시간 업데이트)\n3. 액션 버튼 영역:\n   - '호출' 버튼 (60x60px 이상, PENDING→READY)\n   - '수령 확인' 버튼 (60x60px 이상, READY→COMPLETED)\n4. 카드 상태별 스타일링 (색상 코딩)\n5. 터치 피드백 애니메이션\n6. 그리드 아이템 반응형 크기 조정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "실시간 주문 목록 조회 및 정렬 로직",
            "description": "주문 데이터 실시간 조회, 정렬 및 색상 코딩 시스템 구현",
            "dependencies": [
              "7.2"
            ],
            "details": "1. 주문 목록 실시간 조회 API 연동\n2. createdAt 기준 오름차순 정렬 (오래된 주문 우선)\n3. 경과시간 계산 로직:\n   - 현재 시간 - 주문 생성 시간\n   - 실시간 업데이트 (1분 간격)\n4. 색상 코딩 시스템:\n   - 15분 이상: 빨간색 (긴급)\n   - 10-15분: 주황색 (주의)\n   - 5-10분: 노란색 (보통)\n   - 5분 미만: 초록색 (최근)\n5. 주문 상태별 필터링 (PENDING, READY)\n6. 자동 새로고침 (30초 간격)",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "주문 상태 변경 및 에러 처리",
            "description": "주문 상태 변경 API 호출 및 에러 처리, 롤백 로직 구현",
            "dependencies": [
              "7.3"
            ],
            "details": "1. 상태 변경 API 호출 함수:\n   - PENDING → READY (호출 버튼)\n   - READY → COMPLETED (수령 확인 버튼)\n2. 낙관적 업데이트 (Optimistic Update):\n   - 버튼 클릭 즉시 UI 상태 변경\n   - API 호출 실패 시 이전 상태로 롤백\n3. 에러 처리:\n   - 네트워크 오류 시 Toast 알림\n   - 서버 오류 시 재시도 버튼 제공\n   - 동시성 충돌 처리 (409 Conflict)\n4. 로딩 상태 관리:\n   - 버튼 비활성화 및 스피너 표시\n   - 처리 중 중복 클릭 방지\n5. 성공 시 피드백 (햅틱, 애니메이션)\n6. 에러 로그 수집 및 모니터링",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 6,
        "recommendedSubtasks": 4,
        "expansionPrompt": "주방 화면을 태블릿 최적화 레이아웃 구성, 주문 카드 컴포넌트 및 그리드 시스템, 실시간 주문 목록 조회 및 정렬 로직, 주문 상태 변경 및 에러 처리로 분리하여 태블릿 환경에 특화된 각 기능을 독립적으로 구현할 수 있도록 세분화해주세요."
      },
      {
        "id": "8",
        "title": "실시간 알림 시스템 통합",
        "description": "WebSocket을 통한 양방향 실시간 알림 기능 구현",
        "details": "1. Socket.io 클라이언트 설정 및 Zustand 스토어:\n   ```typescript\n   interface SocketStore {\n     socket: Socket | null;\n     isConnected: boolean;\n     connect: (roomId: string) => void;\n     disconnect: () => void;\n     joinRoom: (roomId: string) => void;\n   }\n   ```\n2. 고객 화면 알림:\n   - order_ready 이벤트 수신\n   - Toast 알림 표시\n   - 진동 API 호출 (navigator.vibrate)\n   - 화면 자동 갱신\n3. 주방 화면 알림:\n   - new_order 이벤트 수신\n   - 알림음 재생 (Audio API)\n   - 신규 주문 카드 자동 추가\n   - 리스트 자동 갱신\n4. 재연결 로직:\n   - 연결 끊김 감지\n   - 지수 백오프 재연결 (3초, 6초, 12초...)\n   - 최대 5회 시도\n5. 폴링 폴백 (WebSocket 실패 시)",
        "testStrategy": "주방에서 호출 버튼 클릭 시 고객에게 3초 내 알림 전달 검증, 네트워크 끊김 시나리오 테스트, 재연결 로직 검증",
        "priority": "high",
        "dependencies": [
          "5",
          "6",
          "7"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "Socket.io 클라이언트 설정 및 Zustand 스토어 통합",
            "description": "Socket.io 클라이언트 라이브러리 설치 및 Zustand를 활용한 WebSocket 연결 상태 관리 스토어 구현",
            "dependencies": [],
            "details": "1. Socket.io 클라이언트 라이브러리 설치\n2. SocketStore 인터페이스 구현 (socket, isConnected, connect, disconnect, joinRoom)\n3. Zustand 스토어에 WebSocket 연결 로직 통합\n4. 룸 조인/리브 기능 구현\n5. 연결 상태 추적 및 관리\n6. TypeScript 타입 정의",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "고객 화면 실시간 알림 시스템 구현",
            "description": "고객용 화면에서 주문 완료 알림을 받기 위한 실시간 알림 기능 구현",
            "dependencies": [
              "8.1"
            ],
            "details": "1. order_ready 이벤트 리스너 구현\n2. Toast 알림 컴포넌트 연동\n3. 진동 API (navigator.vibrate) 호출 기능\n4. 화면 자동 갱신 로직\n5. 알림 수신 시 UI 상태 업데이트\n6. 모바일 디바이스 호환성 확인",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "주방 화면 실시간 알림 시스템 구현",
            "description": "주방용 화면에서 신규 주문 알림을 받기 위한 실시간 알림 기능 구현",
            "dependencies": [
              "8.1"
            ],
            "details": "1. new_order 이벤트 리스너 구현\n2. 알림음 재생 기능 (Audio API 활용)\n3. 신규 주문 카드 자동 추가 로직\n4. 주문 리스트 자동 갱신 기능\n5. 알림 설정 관리 (음량, 진동 등)\n6. 주방 디스플레이 최적화",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "재연결 로직 및 폴링 폴백 시스템 구현",
            "description": "네트워크 불안정 상황에 대비한 자동 재연결 및 폴링 폴백 메커니즘 구현",
            "dependencies": [
              "8.1"
            ],
            "details": "1. 연결 끊김 감지 로직 구현\n2. 지수 백오프 재연결 알고리즘 (3초, 6초, 12초...)\n3. 최대 5회 재연결 시도 제한\n4. WebSocket 실패 시 HTTP 폴링 폴백\n5. 재연결 상태 UI 표시\n6. 네트워크 상태 모니터링",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "크로스 플랫폼 호환성 및 성능 최적화",
            "description": "다양한 디바이스와 브라우저에서의 호환성 확보 및 실시간 알림 시스템 성능 최적화",
            "dependencies": [
              "8.2",
              "8.3",
              "8.4"
            ],
            "details": "1. 브라우저별 WebSocket 지원 확인 및 폴리필\n2. 모바일 디바이스 알림 권한 관리\n3. 백그라운드 탭에서의 알림 처리\n4. 메모리 누수 방지 및 이벤트 리스너 정리\n5. 알림 큐 관리 및 중복 방지\n6. 성능 모니터링 및 최적화",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 9,
        "recommendedSubtasks": 5,
        "expansionPrompt": "실시간 알림 시스템을 Socket.io 클라이언트 설정 및 Zustand 통합, 고객 화면 알림 시스템(Toast, 진동, 화면 갱신), 주방 화면 알림 시스템(알림음, 카드 추가, 리스트 갱신), 재연결 로직 및 폴링 폴백, 크로스 플랫폼 호환성 및 성능 최적화로 분리하여 각 플랫폼별 알림 기능을 독립적으로 구현할 수 있도록 세분화해주세요."
      },
      {
        "id": "9",
        "title": "예외 처리 및 사용자 경험 개선",
        "description": "에러 핸들링, 로딩 상태, 브라우저 호환성 등 사용자 경험 개선",
        "details": "1. 에러 처리:\n   - API 호출 실패 시 Toast 에러 메시지\n   - 유효하지 않은 매장 ID → 에러 페이지\n   - 네트워크 오류 → 재시도 버튼\n   - WebSocket 연결 실패 → 경고 배너\n2. 로딩 상태 UI:\n   - Skeleton 컴포넌트 (메뉴 로딩 중)\n   - 버튼 Disabled 상태 (주문 처리 중)\n   - 스피너 및 로딩 인디케이터\n3. 브라우저 호환성:\n   - iOS Safari 14+, Chrome 90+, Samsung Internet 14+\n   - Progressive Enhancement (진동 API 미지원 시 소리로 대체)\n   - CSS Grid 미지원 시 Flexbox 폴백\n4. 성능 최적화:\n   - 이미지 최적화 (Next.js Image 컴포넌트)\n   - 코드 스플리팅 (Dynamic Import)\n   - 메뉴 데이터 캐싱\n5. 접근성 개선 (ARIA 라벨, 키보드 네비게이션)",
        "testStrategy": "주요 브라우저에서 기능 테스트, 에러 시나리오별 사용자 피드백 검증, Lighthouse 성능 점수 90+ 달성",
        "priority": "medium",
        "dependencies": [
          "8"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "에러 핸들링 및 사용자 피드백 시스템 구현",
            "description": "API 호출 실패, 네트워크 오류, WebSocket 연결 실패 등 다양한 에러 상황에 대한 처리 및 사용자 피드백 시스템 구현",
            "dependencies": [],
            "details": "1. Toast 에러 메시지 컴포넌트 구현\n2. API 호출 실패 시 에러 처리 로직\n3. 유효하지 않은 매장 ID 접근 시 에러 페이지 구현\n4. 네트워크 오류 시 재시도 버튼 기능\n5. WebSocket 연결 실패 시 경고 배너 표시\n6. 에러 상태 관리를 위한 Zustand 스토어 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "로딩 상태 및 스켈레톤 UI 구현",
            "description": "사용자 대기 시간 동안의 로딩 상태를 시각적으로 표현하는 UI 컴포넌트 및 상태 관리 구현",
            "dependencies": [],
            "details": "1. 메뉴 로딩용 Skeleton 컴포넌트 구현\n2. 주문 처리 중 버튼 Disabled 상태 처리\n3. 스피너 및 로딩 인디케이터 컴포넌트\n4. 로딩 상태별 UI 전환 로직\n5. 로딩 상태 관리를 위한 커스텀 훅 구현\n6. 로딩 애니메이션 및 트랜지션 효과",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "브라우저 호환성 및 Progressive Enhancement",
            "description": "다양한 브라우저 환경에서의 호환성 확보 및 기능 미지원 시 대체 방안 구현",
            "dependencies": [],
            "details": "1. iOS Safari 14+, Chrome 90+, Samsung Internet 14+ 호환성 테스트\n2. 진동 API 미지원 시 소리 알림으로 대체 로직\n3. CSS Grid 미지원 브라우저용 Flexbox 폴백 구현\n4. 브라우저 기능 감지 유틸리티 함수\n5. Polyfill 및 브라우저별 조건부 로딩\n6. 크로스 브라우저 테스트 환경 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "성능 최적화 및 접근성 개선",
            "description": "웹 성능 최적화 및 웹 접근성 표준을 준수하는 사용자 인터페이스 구현",
            "dependencies": [
              "9.1",
              "9.2",
              "9.3"
            ],
            "details": "1. Next.js Image 컴포넌트를 활용한 이미지 최적화\n2. Dynamic Import를 통한 코드 스플리팅 구현\n3. 메뉴 데이터 캐싱 전략 및 구현\n4. ARIA 라벨 및 시맨틱 HTML 구조 개선\n5. 키보드 네비게이션 지원 구현\n6. Lighthouse 성능 점수 90+ 달성을 위한 최적화\n7. 스크린 리더 호환성 테스트 및 개선",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 6,
        "recommendedSubtasks": 4,
        "expansionPrompt": "사용자 경험 개선을 에러 핸들링 및 사용자 피드백 시스템, 로딩 상태 및 스켈레톤 UI 구현, 브라우저 호환성 및 Progressive Enhancement, 성능 최적화 및 접근성 개선으로 분리하여 각 UX 측면을 독립적으로 개선할 수 있도록 세분화해주세요."
      },
      {
        "id": "10",
        "title": "배포 및 CI/CD 파이프라인 구축",
        "description": "프로덕션 배포를 위한 인프라 설정 및 자동화 파이프라인 구축",
        "details": "1. AWS EC2 설정:\n   - Ubuntu 22.04 인스턴스 생성 (t3.small)\n   - Docker 및 Docker Compose 설치\n   - Nginx 리버스 프록시 설정\n   - SSL 인증서 설정 (Let's Encrypt)\n2. Docker 설정:\n   ```dockerfile\n   FROM node:18-alpine\n   WORKDIR /app\n   COPY package*.json ./\n   RUN npm ci --only=production\n   COPY . .\n   EXPOSE 3000\n   CMD [\"npm\", \"start\"]\n   ```\n3. GitHub Actions CI/CD:\n   - 코드 푸시 시 자동 빌드\n   - Docker 이미지 GHCR 푸시\n   - EC2 SSH 배포 자동화\n4. Vercel 프론트엔드 배포:\n   - Next.js 앱 자동 배포\n   - 환경변수 설정\n   - 도메인 연결\n5. 모니터링 설정:\n   - CloudWatch 알람 (CPU, 메모리)\n   - Health Check 엔드포인트\n   - Sentry 에러 트래킹\n6. E2E 테스트 (Playwright):\n   - 고객 주문 → 주방 처리 → 호출 전체 플로우",
        "testStrategy": "프로덕션 환경에서 전체 시스템 동작 검증, 자동 배포 파이프라인 테스트, 모니터링 알람 동작 확인",
        "priority": "medium",
        "dependencies": [
          "9"
        ],
        "status": "pending",
        "subtasks": [
          {
            "id": 1,
            "title": "AWS EC2 인프라 설정 및 Docker 환경 구성",
            "description": "프로덕션 서버를 위한 AWS EC2 인스턴스 생성 및 Docker 컨테이너 환경 설정",
            "dependencies": [],
            "details": "1. AWS EC2 Ubuntu 22.04 인스턴스 생성 (t3.small)\n2. Docker 및 Docker Compose 설치\n3. Nginx 리버스 프록시 설정\n4. Let's Encrypt SSL 인증서 설정\n5. Docker 이미지 빌드 및 컨테이너 실행 테스트\n6. 보안 그룹 및 방화벽 설정\n7. 서버 기본 보안 설정 (SSH 키, 포트 변경 등)",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "GitHub Actions CI/CD 파이프라인 구축",
            "description": "코드 푸시부터 프로덕션 배포까지 자동화된 CI/CD 파이프라인 구성",
            "dependencies": [
              "10.1"
            ],
            "details": "1. GitHub Actions 워크플로우 파일 작성\n2. 코드 푸시 시 자동 빌드 및 테스트 실행\n3. Docker 이미지 빌드 및 GHCR 푸시\n4. EC2 SSH 접속 및 자동 배포 스크립트\n5. 배포 실패 시 롤백 메커니즘\n6. 환경별 배포 브랜치 전략 (dev, staging, main)\n7. 시크릿 키 및 환경변수 관리",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Vercel 프론트엔드 배포 자동화",
            "description": "Next.js 앱의 Vercel 자동 배포 설정 및 도메인 연결",
            "dependencies": [],
            "details": "1. Vercel 프로젝트 생성 및 GitHub 연동\n2. Next.js 앱 자동 배포 설정\n3. 환경변수 설정 (API URL, Supabase 키 등)\n4. 커스텀 도메인 연결 및 SSL 설정\n5. 프리뷰 배포 설정 (PR별 미리보기)\n6. 빌드 최적화 및 성능 설정\n7. 배포 알림 및 모니터링 설정",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "모니터링 및 헬스체크 시스템 구축",
            "description": "프로덕션 환경의 시스템 모니터링 및 장애 감지 시스템 구축",
            "dependencies": [
              "10.1",
              "10.2"
            ],
            "details": "1. AWS CloudWatch 알람 설정 (CPU, 메모리, 디스크)\n2. Health Check 엔드포인트 구현 (/health, /ready)\n3. Sentry 에러 트래킹 설정\n4. 로그 수집 및 분석 시스템 구축\n5. 업타임 모니터링 설정\n6. 알림 채널 설정 (이메일, 슬랙 등)\n7. 대시보드 구성 및 메트릭 시각화",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "E2E 테스트 및 프로덕션 검증",
            "description": "Playwright를 사용한 전체 시스템 E2E 테스트 및 프로덕션 환경 검증",
            "dependencies": [
              "10.2",
              "10.3",
              "10.4"
            ],
            "details": "1. Playwright E2E 테스트 스크립트 작성\n2. 고객 주문 → 주방 처리 → 호출 전체 플로우 테스트\n3. 다양한 브라우저 및 디바이스 테스트\n4. 성능 테스트 (로드 테스트, 스트레스 테스트)\n5. 보안 테스트 (OWASP 기본 검증)\n6. 프로덕션 환경 스모크 테스트\n7. 배포 후 자동 검증 및 롤백 테스트",
            "status": "pending",
            "testStrategy": "",
            "parentId": "undefined"
          }
        ],
        "complexity": 8,
        "recommendedSubtasks": 5,
        "expansionPrompt": "배포 파이프라인을 AWS EC2 인프라 설정 및 Docker 환경 구성, GitHub Actions CI/CD 파이프라인 구축, Vercel 프론트엔드 배포 자동화, 모니터링 및 헬스체크 시스템 구축, E2E 테스트 및 프로덕션 검증으로 분리하여 각 배포 단계를 독립적으로 구성하고 검증할 수 있도록 세분화해주세요."
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2026-01-08T14:04:26.103Z",
      "taskCount": 10,
      "completedCount": 0,
      "tags": [
        "master"
      ]
    }
  }
}